CREATE TABLE ARTISTS(
    id_artist int auto_increment,
    name varchar(50) not null,
    primary key (id_artist)
);

CREATE TABLE CATEGORIES(
    id_category int auto_increment,
    category varchar(50) not null,
    primary key (id_category)
);


CREATE TABLE EVENTS(
    ID_EVENT INT AUTO_INCREMENT,
    FK_CATEGORY INT,
    TITLE VARCHAR (50),
    PRIMARY KEY (ID_EVENT),
    FOREIGN KEY (FK_CATEGORY) REFERENCES CATEGORIES (ID_CATEGORY)
);


create table eventPlaces(
  quantity INT NOT NULL,
  id_eventPlace INT NOT NULL AUTO_INCREMENT,
  name varchar(50) not null,
  PRIMARY KEY (id_eventPlace)
  );

  create table placetype(
      description varchar (50) NOT NULL,
      id_placetype int auto_increment,
      primary key (id_placetype)
  );
  
CREATE TABLE admins (
	id_admin int not null auto_increment,
	mail varchar(60) not null,
	pass varchar(60) not null,
	primary key (id_admin)
 );

 CREATE TABLE calendars(
     id_calendar int auto_increment,
     dateevent date,
     fk_id_artist int not null,
     fk_id_event int not null,
     fk_id_eventplace int not null,
     primary key (id_calendar),
     foreign key (fk_id_artist) references artists (id_artist),
     foreign key (fk_id_event) references events (id_event),
     foreign key (fk_id_eventplace) references eventplaces (id_eventplace)
 );

 CREATE TABLE eventseats(
     id_eventseat int auto_increment,
     price int not null,
     quantity int not null,
     remainder int not null,
     fk_id_calendar int not null,
     fk_id_placetype int not null,
     primary key (id_eventseat),
     foreign key (fk_id_calendar) references calendars (id_calendar),
     foreign key (fk_id_placetype) references placetype (id_placetype)
 );


select a.name as nameArtist,
    ep.quantity as eventPlaceQuantity,
    ep.name as nameEventPlace,
    e.title as titleEvent,
    cl.id_calendar as idCalendar,
    cl.dateevent as dateEventCalendar,
    ct.category as nameCategory
    from calendars as cl
    inner join eventplaces as ep
        on cl.fk_id_eventplace = ep.id_eventplace
    inner join events as e
        on cl.fk_id_event = e.id_event
    inner join categories as ct
        on e.fk_category = ct.id_category
    inner join artists as a
        on cl.fk_id_artist = a.id_artist;